import{R as X,r as l,C as A,I as J,v as Q,c as w,_ as z}from"./index-jJjkrASA.js";import{u as U,C as Y}from"./useBubbleLock-DgSu3aet.js";import{T as Z,W as ee,o as te}from"./compact-item-CfP0ZfjF.js";import{F as se,m as T}from"./getAllowClear-DijkFjz0.js";import{u as B}from"./index-DDCwCr0k.js";const D=X.createContext(null);var le=function(a,u){var o={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&u.indexOf(t)<0&&(o[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(a);n<t.length;n++)u.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(a,t[n])&&(o[t[n]]=a[t[n]]);return o};const ae=(a,u)=>{var o;const{prefixCls:t,className:n,rootClassName:I,children:x,indeterminate:h=!1,style:_,onMouseEnter:y,onMouseLeave:c,skipGroup:O=!1,disabled:j}=a,r=le(a,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:$,checkbox:d}=l.useContext(A),s=l.useContext(D),{isFormItemInput:E}=l.useContext(se),N=l.useContext(J),g=(o=s?.disabled||j)!==null&&o!==void 0?o:N,m=l.useRef(r.value),p=l.useRef(null),V=Q(u,p);l.useEffect(()=>{s?.registerValue(r.value)},[]),l.useEffect(()=>{if(!O)return r.value!==m.current&&(s?.cancelValue(m.current),s?.registerValue(r.value),m.current=r.value),()=>s?.cancelValue(r.value)},[r.value]),l.useEffect(()=>{var f;!((f=p.current)===null||f===void 0)&&f.input&&(p.current.input.indeterminate=h)},[h]);const i=k("checkbox",t),S=T(i),[R,P,G]=B(i,S),v=Object.assign({},r);s&&!O&&(v.onChange=(...f)=>{r.onChange&&r.onChange.apply(r,f),s.toggleOption&&s.toggleOption({label:x,value:r.value})},v.name=s.name,v.checked=s.value.includes(r.value));const M=w(`${i}-wrapper`,{[`${i}-rtl`]:$==="rtl",[`${i}-wrapper-checked`]:v.checked,[`${i}-wrapper-disabled`]:g,[`${i}-wrapper-in-form-item`]:E},d?.className,n,I,G,S,P),e=w({[`${i}-indeterminate`]:h},Z,P),[C,b]=U(v.onClick);return R(l.createElement(ee,{component:"Checkbox",disabled:g},l.createElement("label",{className:M,style:Object.assign(Object.assign({},d?.style),_),onMouseEnter:y,onMouseLeave:c,onClick:C},l.createElement(Y,Object.assign({},v,{onClick:b,prefixCls:i,className:e,disabled:g,ref:V})),x!=null&&l.createElement("span",{className:`${i}-label`},x))))},F=l.forwardRef(ae);var ne=function(a,u){var o={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&u.indexOf(t)<0&&(o[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(a);n<t.length;n++)u.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(a,t[n])&&(o[t[n]]=a[t[n]]);return o};const re=l.forwardRef((a,u)=>{const{defaultValue:o,children:t,options:n=[],prefixCls:I,className:x,rootClassName:h,style:_,onChange:y}=a,c=ne(a,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:j}=l.useContext(A),[r,k]=l.useState(c.value||o||[]),[$,d]=l.useState([]);l.useEffect(()=>{"value"in c&&k(c.value||[])},[c.value]);const s=l.useMemo(()=>n.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[n]),E=e=>{d(C=>C.filter(b=>b!==e))},N=e=>{d(C=>[].concat(z(C),[e]))},g=e=>{const C=r.indexOf(e.value),b=z(r);C===-1?b.push(e.value):b.splice(C,1),"value"in c||k(b),y?.(b.filter(f=>$.includes(f)).sort((f,W)=>{const H=s.findIndex(L=>L.value===f),K=s.findIndex(L=>L.value===W);return H-K}))},m=O("checkbox",I),p=`${m}-group`,V=T(m),[i,S,R]=B(m,V),P=te(c,["value","disabled"]),G=n.length?s.map(e=>l.createElement(F,{prefixCls:m,key:e.value.toString(),disabled:"disabled"in e?e.disabled:c.disabled,value:e.value,checked:r.includes(e.value),onChange:e.onChange,className:w(`${p}-item`,e.className),style:e.style,title:e.title,id:e.id,required:e.required},e.label)):t,v=l.useMemo(()=>({toggleOption:g,value:r,disabled:c.disabled,name:c.name,registerValue:N,cancelValue:E}),[g,r,c.disabled,c.name,N,E]),M=w(p,{[`${p}-rtl`]:j==="rtl"},x,h,R,V,S);return i(l.createElement("div",Object.assign({className:M,style:_},P,{ref:u}),l.createElement(D.Provider,{value:v},G)))}),q=F;q.Group=re;q.__ANT_CHECKBOX=!0;export{q as C};
