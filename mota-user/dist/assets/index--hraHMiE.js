import{R as de,r as l,c as _,f as Q,m as Y,h as Z,i as b,z as me,u as pe,C as k,_ as ue,M as ge,b as fe,j as r,S as he}from"./index-jJjkrASA.js";import{i as G,p as be,b as je,c as R}from"./api-DUmAbDc_.js";import{s as P}from"./index-C54hh6U9.js";import{B as A}from"./button-Bv8EyRxh.js";import{R as ve}from"./ArrowLeftOutlined-DrQGsIYE.js";import{T as H}from"./index-C-XfQ0lz.js";import{S as M}from"./index-DEZvTLAg.js";import{R as xe}from"./EditOutlined-H6Ny8KCv.js";import{D as ye}from"./index-BUg6PNCH.js";import{R as $e}from"./MoreOutlined-CjOKr4kg.js";import{R as Oe}from"./LinkOutlined-DMZL-kso.js";import{R as Se}from"./PaperClipOutlined-C1fd02Kc.js";import{R as Ce}from"./DeleteOutlined-KwwWlgLe.js";import{S as _e}from"./index-DDqd5aTF.js";import{C as L}from"./index-CiIGZjGq.js";import{A as W}from"./index-CzYeSCDM.js";import{I as Ie}from"./index-DR1THxsW.js";import{D as Ne}from"./index-DNBvEjvZ.js";import{r as ee,s as we,m as Ee}from"./getAllowClear-DijkFjz0.js";import{t as te,e as Te,R as Pe}from"./compact-item-CfP0ZfjF.js";import{R as Be}from"./ClockCircleOutlined-CiuAMI-C.js";import{R as ze}from"./CheckCircleOutlined-CPk3538Q.js";import{R as Re}from"./BugOutlined-CKjc4xeY.js";import{M as Ae}from"./index--XrJVTfB.js";import"./CheckCircleFilled-C1tkfSYQ.js";import"./CloseCircleFilled-DzUWwAnM.js";import"./ExclamationCircleFilled-CjD5Kf6C.js";import"./CloseOutlined-JFFLTca6.js";import"./RightOutlined-CFLGXWAw.js";import"./useClosable-Dcdur4ya.js";import"./extendsObject-78o_rR5W.js";import"./LeftOutlined-DSxe2Naa.js";import"./EllipsisOutlined-Bct-hJoY.js";import"./PurePanel-BjAOE1jZ.js";import"./move-DCQK6w6D.js";import"./DownOutlined-CN1mv8sD.js";import"./CheckOutlined-CH83bvZX.js";import"./SearchOutlined-OiCr0NYv.js";import"./Skeleton-CpdpnCda.js";import"./index-KYPfHnUh.js";import"./PlusOutlined-Bh2Mv01n.js";import"./index-D31JVHEt.js";import"./Input-BYqifNCC.js";import"./TextArea-D2UEp3z5.js";import"./ActionButton-BlIwnF7n.js";import"./index-F9YRoaSd.js";import"./fade-5De2vm1n.js";const He={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},F=de.createContext({});var Me=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]]);return s};const Le=e=>te(e).map(t=>Object.assign(Object.assign({},t?.props),{key:t.key}));function We(e,t,s){const i=l.useMemo(()=>t||Le(s),[t,s]);return l.useMemo(()=>i.map(d=>{var{span:c}=d,f=Me(d,["span"]);return c==="filled"?Object.assign(Object.assign({},f),{filled:!0}):Object.assign(Object.assign({},f),{span:typeof c=="number"?c:ee(e,c)})}),[i,e])}var De=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]]);return s};function qe(e,t){let s=[],i=[],n=!1,d=0;return e.filter(c=>c).forEach(c=>{const{filled:f}=c,j=De(c,["filled"]);if(f){i.push(j),s.push(i),i=[],d=0;return}const y=t-d;d+=c.span||1,d>=t?(d>t?(n=!0,i.push(Object.assign(Object.assign({},j),{span:y}))):i.push(j),s.push(i),i=[],d=0):i.push(j)}),i.length>0&&s.push(i),s=s.map(c=>{const f=c.reduce((j,y)=>j+(y.span||1),0);if(f<t){const j=c[c.length-1];return j.span=t-(f-(j.span||1)),c}return c}),[s,n]}const Xe=(e,t)=>{const[s,i]=l.useMemo(()=>qe(t,e),[t,e]);return s},Ge=({children:e})=>e,D=e=>e!=null,U=e=>{const{itemPrefixCls:t,component:s,span:i,className:n,style:d,labelStyle:c,contentStyle:f,bordered:j,label:y,content:p,colon:h,type:C,styles:x}=e,$=s,{classNames:a}=l.useContext(F),I=Object.assign(Object.assign({},c),x?.label),m=Object.assign(Object.assign({},f),x?.content);return j?l.createElement($,{colSpan:i,style:d,className:_(n,{[`${t}-item-${C}`]:C==="label"||C==="content",[a?.label]:a?.label&&C==="label",[a?.content]:a?.content&&C==="content"})},D(y)&&l.createElement("span",{style:I},y),D(p)&&l.createElement("span",{style:m},p)):l.createElement($,{colSpan:i,style:d,className:_(`${t}-item`,n)},l.createElement("div",{className:`${t}-item-container`},D(y)&&l.createElement("span",{style:I,className:_(`${t}-item-label`,a?.label,{[`${t}-item-no-colon`]:!h})},y),D(p)&&l.createElement("span",{style:m,className:_(`${t}-item-content`,a?.content)},p)))};function V(e,{colon:t,prefixCls:s,bordered:i},{component:n,type:d,showLabel:c,showContent:f,labelStyle:j,contentStyle:y,styles:p}){return e.map(({label:h,children:C,prefixCls:x=s,className:$,style:a,labelStyle:I,contentStyle:m,span:T=1,key:w,styles:O},u)=>typeof n=="string"?l.createElement(U,{key:`${d}-${w||u}`,className:$,style:a,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},j),p?.label),I),O?.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},y),p?.content),m),O?.content)},span:T,colon:t,component:n,itemPrefixCls:x,bordered:i,label:c?h:null,content:f?C:null,type:d}):[l.createElement(U,{key:`label-${w||u}`,className:$,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},j),p?.label),a),I),O?.label),span:1,colon:t,component:n[0],itemPrefixCls:x,bordered:i,label:h,type:"label"}),l.createElement(U,{key:`content-${w||u}`,className:$,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},y),p?.content),a),m),O?.content),span:T*2-1,component:n[1],itemPrefixCls:x,bordered:i,content:C,type:"content"})])}const Ue=e=>{const t=l.useContext(F),{prefixCls:s,vertical:i,row:n,index:d,bordered:c}=e;return i?l.createElement(l.Fragment,null,l.createElement("tr",{key:`label-${d}`,className:`${s}-row`},V(n,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),l.createElement("tr",{key:`content-${d}`,className:`${s}-row`},V(n,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):l.createElement("tr",{key:d,className:`${s}-row`},V(n,e,Object.assign({component:c?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},Ve=e=>{const{componentCls:t,labelBg:s}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${b(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${b(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:first-child":{"> th:first-child, > td:first-child":{borderStartStartRadius:e.borderRadiusLG}},"&:last-child":{borderBottom:"none","> th:first-child, > td:first-child":{borderEndStartRadius:e.borderRadiusLG}},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${b(e.padding)} ${b(e.paddingLG)}`,borderInlineEnd:`${b(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:s,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${b(e.paddingSM)} ${b(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${b(e.paddingXS)} ${b(e.padding)}`}}}}}},Fe=e=>{const{componentCls:t,extraColor:s,itemPaddingBottom:i,itemPaddingEnd:n,colonMarginRight:d,colonMarginLeft:c,titleMarginBottom:f}=e;return{[t]:Object.assign(Object.assign(Object.assign({},Z(e)),Ve(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:f},[`${t}-title`]:Object.assign(Object.assign({},me),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:s,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:i,paddingInlineEnd:n},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${b(c)} ${b(d)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},Ke=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText}),Je=Q("Descriptions",e=>{const t=Y(e,{});return Fe(t)},Ke);var Qe=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]]);return s};const E=e=>{const{prefixCls:t,title:s,extra:i,column:n,colon:d=!0,bordered:c,layout:f,children:j,className:y,rootClassName:p,style:h,size:C,labelStyle:x,contentStyle:$,styles:a,items:I,classNames:m}=e,T=Qe(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:w,direction:O,className:u,style:o,classNames:v,styles:S}=pe("descriptions"),N=w("descriptions",t),B=we(),q=l.useMemo(()=>{var z;return typeof n=="number"?n:(z=ee(B,Object.assign(Object.assign({},He),n)))!==null&&z!==void 0?z:3},[B,n]),se=We(B,I,j),X=Te(C),re=Xe(q,se),[ae,le,oe]=Je(N),ce=l.useMemo(()=>({labelStyle:x,contentStyle:$,styles:{content:Object.assign(Object.assign({},S.content),a?.content),label:Object.assign(Object.assign({},S.label),a?.label)},classNames:{label:_(v.label,m?.label),content:_(v.content,m?.content)}}),[x,$,a,m,v,S]);return ae(l.createElement(F.Provider,{value:ce},l.createElement("div",Object.assign({className:_(N,u,v.root,m?.root,{[`${N}-${X}`]:X&&X!=="default",[`${N}-bordered`]:!!c,[`${N}-rtl`]:O==="rtl"},y,p,le,oe),style:Object.assign(Object.assign(Object.assign(Object.assign({},o),S.root),a?.root),h)},T),(s||i)&&l.createElement("div",{className:_(`${N}-header`,v.header,m?.header),style:Object.assign(Object.assign({},S.header),a?.header)},s&&l.createElement("div",{className:_(`${N}-title`,v.title,m?.title),style:Object.assign(Object.assign({},S.title),a?.title)},s),i&&l.createElement("div",{className:_(`${N}-extra`,v.extra,m?.extra),style:Object.assign(Object.assign({},S.extra),a?.extra)},i)),l.createElement("div",{className:`${N}-view`},l.createElement("table",null,l.createElement("tbody",null,re.map((z,K)=>l.createElement(Ue,{key:K,index:K,colon:d,prefixCls:N,vertical:f==="vertical",bordered:c,row:z}))))))))};E.Item=Ge;const Ye=e=>{const{componentCls:t,calc:s}=e;return{[t]:Object.assign(Object.assign({},Z(e)),{margin:0,padding:0,listStyle:"none",[`${t}-item`]:{position:"relative",margin:0,paddingBottom:e.itemPaddingBottom,fontSize:e.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:e.itemHeadSize,insetInlineStart:s(s(e.itemHeadSize).sub(e.tailWidth)).div(2).equal(),height:`calc(100% - ${b(e.itemHeadSize)})`,borderInlineStart:`${b(e.tailWidth)} ${e.lineType} ${e.tailColor}`},"&-pending":{[`${t}-item-head`]:{fontSize:e.fontSizeSM,backgroundColor:"transparent"},[`${t}-item-tail`]:{display:"none"}},"&-head":{position:"absolute",width:e.itemHeadSize,height:e.itemHeadSize,backgroundColor:e.dotBg,border:`${b(e.dotBorderWidth)} ${e.lineType} transparent`,borderRadius:"50%","&-blue":{color:e.colorPrimary,borderColor:e.colorPrimary},"&-red":{color:e.colorError,borderColor:e.colorError},"&-green":{color:e.colorSuccess,borderColor:e.colorSuccess},"&-gray":{color:e.colorTextDisabled,borderColor:e.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:s(e.itemHeadSize).div(2).equal(),insetInlineStart:s(e.itemHeadSize).div(2).equal(),width:"auto",height:"auto",marginBlockStart:0,paddingBlock:e.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:s(s(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.lineWidth).equal(),marginInlineStart:s(e.margin).add(e.itemHeadSize).equal(),marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{[`> ${t}-item-tail`]:{display:"none"},[`> ${t}-item-content`]:{minHeight:s(e.controlHeightLG).mul(1.2).equal()}}},[`&${t}-alternate,
        &${t}-right,
        &${t}-label`]:{[`${t}-item`]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:s(e.marginXXS).mul(-1).equal(),"&-custom":{marginInlineStart:s(e.tailWidth).div(2).equal()}},"&-left":{[`${t}-item-content`]:{insetInlineStart:`calc(50% - ${b(e.marginXXS)})`,width:`calc(50% - ${b(e.marginSM)})`,textAlign:"start"}},"&-right":{[`${t}-item-content`]:{width:`calc(50% - ${b(e.marginSM)})`,margin:0,textAlign:"end"}}}},[`&${t}-right`]:{[`${t}-item-right`]:{[`${t}-item-tail,
            ${t}-item-head,
            ${t}-item-head-custom`]:{insetInlineStart:`calc(100% - ${b(s(s(e.itemHeadSize).add(e.tailWidth)).div(2).equal())})`},[`${t}-item-content`]:{width:`calc(100% - ${b(s(e.itemHeadSize).add(e.marginXS).equal())})`}}},[`&${t}-pending
        ${t}-item-last
        ${t}-item-tail`]:{display:"block",height:`calc(100% - ${b(e.margin)})`,borderInlineStart:`${b(e.tailWidth)} dotted ${e.tailColor}`},[`&${t}-reverse
        ${t}-item-last
        ${t}-item-tail`]:{display:"none"},[`&${t}-reverse ${t}-item-pending`]:{[`${t}-item-tail`]:{insetBlockStart:e.margin,display:"block",height:`calc(100% - ${b(e.margin)})`,borderInlineStart:`${b(e.tailWidth)} dotted ${e.tailColor}`},[`${t}-item-content`]:{minHeight:s(e.controlHeightLG).mul(1.2).equal()}},[`&${t}-label`]:{[`${t}-item-label`]:{position:"absolute",insetBlockStart:s(s(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.tailWidth).equal(),width:`calc(50% - ${b(e.marginSM)})`,textAlign:"end"},[`${t}-item-right`]:{[`${t}-item-label`]:{insetInlineStart:`calc(50% + ${b(e.marginSM)})`,width:`calc(50% - ${b(e.marginSM)})`,textAlign:"start"}}},"&-rtl":{direction:"rtl",[`${t}-item-head-custom`]:{transform:"translate(50%, -50%)"}}})}},Ze=e=>({tailColor:e.colorSplit,tailWidth:e.lineWidthBold,dotBorderWidth:e.wireframe?e.lineWidthBold:e.lineWidth*3,dotBg:e.colorBgContainer,itemPaddingBottom:e.padding*1.25}),ke=Q("Timeline",e=>{const t=Y(e,{itemHeadSize:10,customHeadPaddingVertical:e.paddingXXS,paddingInlineEnd:2});return Ye(t)},Ze);var et=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]]);return s};const ie=e=>{var{prefixCls:t,className:s,color:i="blue",dot:n,pending:d=!1,position:c,label:f,children:j}=e,y=et(e,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:p}=l.useContext(k),h=p("timeline",t),C=_(`${h}-item`,{[`${h}-item-pending`]:d},s),x=/blue|red|green|gray/.test(i||"")?void 0:i,$=_(`${h}-item-head`,{[`${h}-item-head-custom`]:!!n,[`${h}-item-head-${i}`]:!x});return l.createElement("li",Object.assign({},y,{className:C}),f&&l.createElement("div",{className:`${h}-item-label`},f),l.createElement("div",{className:`${h}-item-tail`}),l.createElement("div",{className:$,style:{borderColor:x,color:x}},n),l.createElement("div",{className:`${h}-item-content`},j))};var J=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]]);return s};const tt=e=>{var{prefixCls:t,className:s,pending:i=!1,children:n,items:d,rootClassName:c,reverse:f=!1,direction:j,hashId:y,pendingDot:p,mode:h=""}=e,C=J(e,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const x=(u,o)=>h==="alternate"?u==="right"?`${t}-item-right`:u==="left"?`${t}-item-left`:o%2===0?`${t}-item-left`:`${t}-item-right`:h==="left"?`${t}-item-left`:h==="right"?`${t}-item-right`:u==="right"?`${t}-item-right`:"",$=ue(d||[]),a=typeof i=="boolean"?null:i;i&&$.push({pending:!!i,dot:p||l.createElement(Pe,null),children:a}),f&&$.reverse();const I=$.length,m=`${t}-item-last`,T=$.filter(u=>!!u).map((u,o)=>{var v;const S=o===I-2?m:"",N=o===I-1?m:"",{className:B}=u,q=J(u,["className"]);return l.createElement(ie,Object.assign({},q,{className:_([B,!f&&i?S:N,x((v=u?.position)!==null&&v!==void 0?v:"",o)]),key:u?.key||o}))}),w=$.some(u=>!!u?.label),O=_(t,{[`${t}-pending`]:!!i,[`${t}-reverse`]:!!f,[`${t}-${h}`]:!!h&&!w,[`${t}-label`]:w,[`${t}-rtl`]:j==="rtl"},s,c,y);return l.createElement("ol",Object.assign({},C,{className:O}),T)};function it(e,t){return e&&Array.isArray(e)?e:te(t).map(s=>{var i,n;return Object.assign({children:(n=(i=s?.props)===null||i===void 0?void 0:i.children)!==null&&n!==void 0?n:""},s.props)})}var nt=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]]);return s};const ne=e=>{const{getPrefixCls:t,direction:s,timeline:i}=l.useContext(k),{prefixCls:n,children:d,items:c,className:f,style:j}=e,y=nt(e,["prefixCls","children","items","className","style"]),p=t("timeline",n),h=Ee(p),[C,x,$]=ke(p,h),a=it(c,d);return C(l.createElement(tt,Object.assign({},y,{className:_(i?.className,f,$,h),style:Object.assign(Object.assign({},i?.style),j),prefixCls:p,direction:s,items:a,hashId:x})))};ne.Item=ie;const st="_container_tcje2_1",rt="_header_tcje2_13",at="_headerLeft_tcje2_33",lt="_issueKey_tcje2_45",ot="_projectTag_tcje2_63",ct="_content_tcje2_71",dt="_mainContent_tcje2_83",mt="_title_tcje2_95",pt="_statusBar_tcje2_113",ut="_card_tcje2_125",gt="_description_tcje2_133",ft="_commentInput_tcje2_147",ht="_comments_tcje2_167",bt="_commentItem_tcje2_179",jt="_commentContent_tcje2_189",vt="_commentHeader_tcje2_197",xt="_commentAuthor_tcje2_211",yt="_commentTime_tcje2_219",$t="_activityItem_tcje2_239",Ot="_activityUser_tcje2_253",St="_activityAction_tcje2_263",Ct="_activityTarget_tcje2_271",_t="_activityTime_tcje2_279",It="_sidebar_tcje2_289",Nt="_detailCard_tcje2_301",g={container:st,header:rt,headerLeft:at,issueKey:lt,projectTag:ot,content:ct,mainContent:dt,title:mt,statusBar:pt,card:ut,description:gt,commentInput:ft,comments:ht,commentItem:bt,commentContent:jt,commentHeader:vt,commentAuthor:xt,commentTime:yt,activityItem:$t,activityUser:Ot,activityAction:St,activityTarget:Ct,activityTime:_t,sidebar:It,detailCard:Nt},$i=()=>{const{id:e}=ge(),t=fe(),[s,i]=l.useState(!0),[n,d]=l.useState(null),[c,f]=l.useState(null),[j,y]=l.useState("");l.useEffect(()=>{e&&p(parseInt(e))},[e]);const p=async o=>{i(!0);try{const v=await G.getIssueById(o);if(d(v.data),v.data.projectId){const S=await be.getProjectById(v.data.projectId);f(S.data)}}catch(v){console.error("Failed to load issue:",v),P.error("加载事项失败")}finally{i(!1)}},h=async o=>{if(n)try{await G.updateIssue(n.id,{status:o}),d({...n,status:o}),P.success("状态已更新")}catch{P.error("更新失败")}},C=()=>{Ae.confirm({title:"确认删除",content:"删除后不可恢复，确定要删除这个事项吗？",okText:"确认删除",okType:"danger",cancelText:"取消",onOk:async()=>{if(n)try{await G.deleteIssue(n.id),P.success("事项已删除"),t("/issues")}catch{P.error("删除失败")}}})},x=()=>{j.trim()&&(P.success("评论已添加"),y(""))},$=o=>{switch(o){case"bug":return r.jsx(Re,{style:{color:"#ff4d4f"}});case"story":return r.jsx(ze,{style:{color:"#52c41a"}});default:return r.jsx(Be,{style:{color:"#1677ff"}})}},a=o=>{const S={story:{color:"green",text:"需求"},task:{color:"blue",text:"任务"},bug:{color:"red",text:"缺陷"},epic:{color:"purple",text:"史诗"}}[o]||{color:"default",text:o};return r.jsx(H,{color:S.color,children:S.text})},I=o=>{const S={open:{color:"default",text:"待处理"},in_progress:{color:"processing",text:"进行中"},testing:{color:"warning",text:"测试中"},review:{color:"cyan",text:"待评审"},done:{color:"success",text:"已完成"},closed:{color:"default",text:"已关闭"}}[o]||{color:"default",text:o};return r.jsx(H,{color:S.color,children:S.text})},m=o=>{const S={highest:{color:"#ff4d4f",text:"最高"},high:{color:"#fa8c16",text:"高"},medium:{color:"#1677ff",text:"中"},low:{color:"#52c41a",text:"低"},lowest:{color:"#8c8c8c",text:"最低"}}[o]||{color:"#8c8c8c",text:o};return r.jsx(H,{color:S.color,children:S.text})},T=o=>o?R.find(v=>v.id===o):null,w=je.slice(0,3).map(o=>({...o,user:R.find(v=>v.id===o.userId)}));if(s)return r.jsx("div",{className:g.container,style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:r.jsx(he,{size:"large"})});if(!n)return r.jsx("div",{className:g.container,children:r.jsxs("div",{style:{textAlign:"center",padding:"48px"},children:[r.jsx("h2",{children:"事项不存在"}),r.jsx(A,{type:"primary",onClick:()=>t("/issues"),children:"返回事项列表"})]})});const O=T(n.assignee),u=T(n.reporter);return r.jsxs("div",{className:g.container,children:[r.jsxs("div",{className:g.header,children:[r.jsxs("div",{className:g.headerLeft,children:[r.jsx(A,{type:"text",icon:r.jsx(ve,{}),onClick:()=>t("/issues")}),r.jsxs("div",{className:g.issueKey,children:[$(n.type),r.jsx("span",{children:n.key})]}),c&&r.jsx(H,{className:g.projectTag,onClick:()=>t(`/projects/${c.id}`),style:{cursor:"pointer"},children:c.name})]}),r.jsxs(M,{children:[r.jsx(A,{icon:r.jsx(xe,{}),onClick:()=>P.info("编辑功能开发中"),children:"编辑"}),r.jsx(ye,{menu:{items:[{key:"link",icon:r.jsx(Oe,{}),label:"复制链接"},{key:"attach",icon:r.jsx(Se,{}),label:"添加附件"},{type:"divider"},{key:"delete",icon:r.jsx(Ce,{}),label:"删除",danger:!0,onClick:C}]},children:r.jsx(A,{icon:r.jsx($e,{})})})]})]}),r.jsxs("div",{className:g.content,children:[r.jsxs("div",{className:g.mainContent,children:[r.jsx("h1",{className:g.title,children:n.title}),r.jsx("div",{className:g.statusBar,children:r.jsxs(M,{children:[r.jsx("span",{children:"状态："}),r.jsx(_e,{value:n.status,onChange:h,style:{width:120},options:[{value:"open",label:"待处理"},{value:"in_progress",label:"进行中"},{value:"testing",label:"测试中"},{value:"review",label:"待评审"},{value:"done",label:"已完成"},{value:"closed",label:"已关闭"}]})]})}),r.jsx(L,{title:"描述",className:g.card,children:r.jsx("div",{className:g.description,children:n.description||"暂无描述"})}),r.jsxs(L,{title:"评论",className:g.card,children:[r.jsxs("div",{className:g.commentInput,children:[r.jsx(W,{children:R[0].name.charAt(0)}),r.jsx(Ie.TextArea,{placeholder:"添加评论...",value:j,onChange:o=>y(o.target.value),rows:2}),r.jsx(A,{type:"primary",onClick:x,children:"发送"})]}),r.jsx(Ne,{}),r.jsx("div",{className:g.comments,children:r.jsxs("div",{className:g.commentItem,children:[r.jsx(W,{children:R[1].name.charAt(0)}),r.jsxs("div",{className:g.commentContent,children:[r.jsxs("div",{className:g.commentHeader,children:[r.jsx("span",{className:g.commentAuthor,children:R[1].name}),r.jsx("span",{className:g.commentTime,children:"2小时前"})]}),r.jsx("p",{children:"这个问题需要尽快处理，影响到用户体验。"})]})]})})]}),r.jsx(L,{title:"活动记录",className:g.card,children:r.jsx(ne,{items:w.map(o=>({children:r.jsxs("div",{className:g.activityItem,children:[r.jsx("span",{className:g.activityUser,children:o.user?.name}),r.jsx("span",{className:g.activityAction,children:o.action}),r.jsx("span",{className:g.activityTarget,children:o.target}),r.jsx("span",{className:g.activityTime,children:o.time})]})}))})})]}),r.jsx("div",{className:g.sidebar,children:r.jsx(L,{className:g.detailCard,children:r.jsxs(E,{column:1,size:"small",children:[r.jsx(E.Item,{label:"类型",children:a(n.type)}),r.jsx(E.Item,{label:"状态",children:I(n.status)}),r.jsx(E.Item,{label:"优先级",children:m(n.priority)}),r.jsx(E.Item,{label:"故事点",children:r.jsx(H,{children:n.storyPoints||"-"})}),r.jsx(E.Item,{label:"经办人",children:O?r.jsxs(M,{children:[r.jsx(W,{size:"small",src:O.avatar,children:O.name.charAt(0)}),O.name]}):r.jsx("span",{style:{color:"#999"},children:"未分配"})}),r.jsx(E.Item,{label:"报告人",children:u?r.jsxs(M,{children:[r.jsx(W,{size:"small",src:u.avatar,children:u.name.charAt(0)}),u.name]}):"-"}),r.jsx(E.Item,{label:"创建时间",children:n.createdAt}),r.jsx(E.Item,{label:"更新时间",children:n.updatedAt})]})})})]})]})};export{$i as default};
