import{f as je,h as ye,i as te,r as a,u as ve,c as V,t as Ie,v as be,Q as Ce,T as _e,U as K,V as Se,W as Te,A as $e,B as Re,a as Ne,j as e}from"./index-jJjkrASA.js";import{R as A}from"./RobotOutlined-BeEULmTl.js";import{T as we}from"./index-CnGp7M1w.js";import{S as w}from"./index-DEZvTLAg.js";import{B as g}from"./button-Bv8EyRxh.js";import{R as q}from"./PlayCircleOutlined-BYlYA78z.js";import{C as j}from"./index-CiIGZjGq.js";import{T as ze}from"./index-KYPfHnUh.js";import{M as Q}from"./index--XrJVTfB.js";import{R as Ee,s as M}from"./index-C54hh6U9.js";import{R as ke}from"./SettingOutlined-CawUlI4j.js";import{R as Me,C as B}from"./row-DbvWXo5m.js";import{S as P}from"./index-XJKxwp2H.js";import{R as O}from"./FileTextOutlined-Ts-3bQU2.js";import{p as Be,I as Pe}from"./compact-item-CfP0ZfjF.js";import{R as Oe}from"./ThunderboltOutlined-Bg3BbvHk.js";import{R as He}from"./SyncOutlined-U0XDYDsF.js";import{R as Ae}from"./PauseCircleOutlined-CnIcW44N.js";import{P as qe}from"./progress-BfLFEfyG.js";import{R as De}from"./CheckCircleOutlined-CPk3538Q.js";import{R as Ve}from"./CheckCircleFilled-C1tkfSYQ.js";import{R as Le}from"./CloseCircleFilled-DzUWwAnM.js";import{R as We}from"./CloseOutlined-JFFLTca6.js";import{R as Fe}from"./ExclamationCircleFilled-CjD5Kf6C.js";import{L as z}from"./index-BVlP_4fx.js";import{R as Ge}from"./ClockCircleOutlined-CiuAMI-C.js";import{T as Ue}from"./index-C-XfQ0lz.js";import{A as J}from"./index-CzYeSCDM.js";import{U as Xe,R as Y}from"./UploadOutlined-Bo59TO4V.js";import{B as Ke}from"./index-Bjq4HH94.js";import{T as D}from"./getAllowClear-DijkFjz0.js";import{R as Qe}from"./DeleteOutlined-KwwWlgLe.js";import{F as y,R as Je}from"./index-CNgAusFm.js";import{I as R}from"./index-DR1THxsW.js";import"./EditOutlined-H6Ny8KCv.js";import"./styleChecker-apvlJGDR.js";import"./TextArea-D2UEp3z5.js";import"./CheckOutlined-CH83bvZX.js";import"./RightOutlined-CFLGXWAw.js";import"./Skeleton-CpdpnCda.js";import"./EllipsisOutlined-Bct-hJoY.js";import"./PlusOutlined-Bh2Mv01n.js";import"./ActionButton-BlIwnF7n.js";import"./index-F9YRoaSd.js";import"./fade-5De2vm1n.js";import"./useClosable-Dcdur4ya.js";import"./extendsObject-78o_rR5W.js";import"./PurePanel-BjAOE1jZ.js";import"./index-DDqd5aTF.js";import"./DownOutlined-CN1mv8sD.js";import"./move-DCQK6w6D.js";import"./SearchOutlined-OiCr0NYv.js";import"./Pagination-4QOE6sQE.js";import"./LeftOutlined-DSxe2Naa.js";import"./index-D31JVHEt.js";import"./PaperClipOutlined-C1fd02Kc.js";import"./DownloadOutlined-ATuRtEXz.js";import"./useForm-PTvZdMqb.js";import"./Input-BYqifNCC.js";const H=(t,s,o,r,n)=>({background:t,border:`${te(r.lineWidth)} ${r.lineType} ${s}`,[`${n}-icon`]:{color:o}}),Ye=t=>{const{componentCls:s,motionDurationSlow:o,marginXS:r,marginSM:n,fontSize:l,fontSizeLG:m,lineHeight:f,borderRadiusLG:p,motionEaseInOutCirc:x,withDescriptionIconSize:v,colorText:h,colorTextHeading:C,withDescriptionPadding:_,defaultPadding:d}=t;return{[s]:Object.assign(Object.assign({},ye(t)),{position:"relative",display:"flex",alignItems:"center",padding:d,wordWrap:"break-word",borderRadius:p,[`&${s}-rtl`]:{direction:"rtl"},[`${s}-content`]:{flex:1,minWidth:0},[`${s}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:l,lineHeight:f},"&-message":{color:C},[`&${s}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${o} ${x}, opacity ${o} ${x},
        padding-top ${o} ${x}, padding-bottom ${o} ${x},
        margin-bottom ${o} ${x}`},[`&${s}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${s}-with-description`]:{alignItems:"flex-start",padding:_,[`${s}-icon`]:{marginInlineEnd:n,fontSize:v,lineHeight:0},[`${s}-message`]:{display:"block",marginBottom:r,color:C,fontSize:m},[`${s}-description`]:{display:"block",color:h}},[`${s}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Ze=t=>{const{componentCls:s,colorSuccess:o,colorSuccessBorder:r,colorSuccessBg:n,colorWarning:l,colorWarningBorder:m,colorWarningBg:f,colorError:p,colorErrorBorder:x,colorErrorBg:v,colorInfo:h,colorInfoBorder:C,colorInfoBg:_}=t;return{[s]:{"&-success":H(n,r,o,t,s),"&-info":H(_,C,h,t,s),"&-warning":H(f,m,l,t,s),"&-error":Object.assign(Object.assign({},H(v,x,p,t,s)),{[`${s}-description > pre`]:{margin:0,padding:0}})}}},et=t=>{const{componentCls:s,iconCls:o,motionDurationMid:r,marginXS:n,fontSizeIcon:l,colorIcon:m,colorIconHover:f}=t;return{[s]:{"&-action":{marginInlineStart:n},[`${s}-close-icon`]:{marginInlineStart:n,padding:0,overflow:"hidden",fontSize:l,lineHeight:te(l),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${o}-close`]:{color:m,transition:`color ${r}`,"&:hover":{color:f}}},"&-close-text":{color:m,transition:`color ${r}`,"&:hover":{color:f}}}}},tt=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`}),st=je("Alert",t=>[Ye(t),Ze(t),et(t)],tt);var Z=function(t,s){var o={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(o[r[n]]=t[r[n]]);return o};const ot={success:Ve,info:Ee,error:Le,warning:Fe},rt=t=>{const{icon:s,prefixCls:o,type:r}=t,n=ot[r]||null;return s?Ce(s,a.createElement("span",{className:`${o}-icon`},s),()=>({className:V(`${o}-icon`,s.props.className)})):a.createElement(n,{className:`${o}-icon`})},nt=t=>{const{isClosable:s,prefixCls:o,closeIcon:r,handleClose:n,ariaProps:l}=t,m=r===!0||r===void 0?a.createElement(We,null):r;return s?a.createElement("button",Object.assign({type:"button",onClick:n,className:`${o}-close-icon`,tabIndex:0},l),m):null},se=a.forwardRef((t,s)=>{const{description:o,prefixCls:r,message:n,banner:l,className:m,rootClassName:f,style:p,onMouseEnter:x,onMouseLeave:v,onClick:h,afterClose:C,showIcon:_,closable:d,closeText:$,closeIcon:I,action:E,id:i}=t,k=Z(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[L,re]=a.useState(!1),W=a.useRef(null);a.useImperativeHandle(s,()=>({nativeElement:W.current}));const{getPrefixCls:ne,direction:ae,closable:S,closeIcon:F,className:ie,style:ce}=ve("alert"),u=ne("alert",r),[le,de,me]=st(u),pe=b=>{var N;re(!0),(N=t.onClose)===null||N===void 0||N.call(t,b)},G=a.useMemo(()=>t.type!==void 0?t.type:l?"warning":"info",[t.type,l]),ue=a.useMemo(()=>typeof d=="object"&&d.closeIcon||$?!0:typeof d=="boolean"?d:I!==!1&&I!==null&&I!==void 0?!0:!!S,[$,I,d,S]),U=l&&_===void 0?!0:_,fe=V(u,`${u}-${G}`,{[`${u}-with-description`]:!!o,[`${u}-no-icon`]:!U,[`${u}-banner`]:!!l,[`${u}-rtl`]:ae==="rtl"},ie,m,f,me,de),xe=Be(k,{aria:!0,data:!0}),he=a.useMemo(()=>typeof d=="object"&&d.closeIcon?d.closeIcon:$||(I!==void 0?I:typeof S=="object"&&S.closeIcon?S.closeIcon:F),[I,d,S,$,F]),ge=a.useMemo(()=>{const b=d??S;if(typeof b=="object"){const{closeIcon:N}=b;return Z(b,["closeIcon"])}return{}},[d,S]);return le(a.createElement(Ie,{visible:!L,motionName:`${u}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:b=>({maxHeight:b.offsetHeight}),onLeaveEnd:C},({className:b,style:N},X)=>a.createElement("div",Object.assign({id:i,ref:be(W,X),"data-show":!L,className:V(fe,b),style:Object.assign(Object.assign(Object.assign({},ce),p),N),onMouseEnter:x,onMouseLeave:v,onClick:h,role:"alert"},xe),U?a.createElement(rt,{description:o,icon:t.icon,prefixCls:u,type:G}):null,a.createElement("div",{className:`${u}-content`},n?a.createElement("div",{className:`${u}-message`},n):null,o?a.createElement("div",{className:`${u}-description`},o):null),E?a.createElement("div",{className:`${u}-action`},E):null,a.createElement(nt,{isClosable:ue,prefixCls:u,closeIcon:he,handleClose:pe,ariaProps:ge}))))});function at(t,s,o){return s=K(s),_e(t,Se()?Reflect.construct(s,o||[],K(t).constructor):s.apply(t,o))}let it=(function(t){function s(){var o;return Re(this,s),o=at(this,s,arguments),o.state={error:void 0,info:{componentStack:""}},o}return Te(s,t),$e(s,[{key:"componentDidCatch",value:function(r,n){this.setState({error:r,info:n})}},{key:"render",value:function(){const{message:r,description:n,id:l,children:m}=this.props,{error:f,info:p}=this.state,x=p?.componentStack||null,v=typeof r>"u"?(f||"").toString():r,h=typeof n>"u"?x:n;return f?a.createElement(se,{id:l,type:"error",message:v,description:a.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},h)}):m}}])})(a.Component);const oe=se;oe.ErrorBoundary=it;var ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"},lt=function(s,o){return a.createElement(Pe,Ne({},s,{ref:o,icon:ct}))},dt=a.forwardRef(lt);const mt="_container_1fc8q_1",pt="_header_1fc8q_13",ut="_headerTitle_1fc8q_27",ft="_headerIcon_1fc8q_39",xt="_overviewTab_1fc8q_49",ht="_statCard_1fc8q_57",gt="_statusCard_1fc8q_65",jt="_trainingProgress_1fc8q_73",yt="_progressHeader_1fc8q_81",vt="_completedStatus_1fc8q_95",It="_completedIcon_1fc8q_109",bt="_idleStatus_1fc8q_119",Ct="_historyCard_1fc8q_129",_t="_knowledgeTab_1fc8q_137",St="_uploadCard_1fc8q_145",Tt="_documentsCard_1fc8q_153",$t="_settingsTab_1fc8q_161",Rt="_settingsCard_1fc8q_169",Nt="_businessCard_1fc8q_177",c={container:mt,header:pt,headerTitle:ut,headerIcon:ft,overviewTab:xt,statCard:ht,statusCard:gt,trainingProgress:jt,progressHeader:yt,completedStatus:vt,completedIcon:It,idleStatus:bt,historyCard:Ct,knowledgeTab:_t,uploadCard:St,documentsCard:Tt,settingsTab:$t,settingsCard:Rt,businessCard:Nt},{Title:ee,Text:T}=we,{TextArea:wt}=R,{Dragger:zt}=Xe,Os=()=>{const[t,s]=a.useState("overview"),[o,r]=a.useState("idle"),[n,l]=a.useState(0),[m,f]=a.useState([]),p={totalDocuments:156,totalTokens:"2.3M",lastTraining:"2024-01-15 14:30",modelVersion:"v1.2.0",accuracy:92.5},x=[{id:1,version:"v1.2.0",date:"2024-01-15 14:30",documents:156,status:"completed",accuracy:92.5},{id:2,version:"v1.1.0",date:"2024-01-10 10:20",documents:120,status:"completed",accuracy:89.2},{id:3,version:"v1.0.0",date:"2024-01-05 09:00",documents:80,status:"completed",accuracy:85}],v=[{id:1,name:"公司简介.pdf",size:"2.3 MB",uploadTime:"2024-01-15",status:"indexed"},{id:2,name:"产品手册.docx",size:"5.1 MB",uploadTime:"2024-01-14",status:"indexed"},{id:3,name:"服务说明.pdf",size:"1.8 MB",uploadTime:"2024-01-13",status:"indexed"},{id:4,name:"案例集锦.pdf",size:"8.2 MB",uploadTime:"2024-01-12",status:"indexed"},{id:5,name:"技术白皮书.pdf",size:"3.5 MB",uploadTime:"2024-01-10",status:"pending"}],h=()=>{Q.confirm({title:"开始训练",content:"确定要开始训练AI模型吗？训练过程可能需要几分钟到几小时，取决于数据量。",okText:"开始训练",cancelText:"取消",onOk:()=>{r("training"),l(0);const i=setInterval(()=>{l(k=>k>=100?(clearInterval(i),r("completed"),M.success("模型训练完成！"),100):k+Math.random()*10)},500)}})},C={name:"file",multiple:!0,fileList:m,onChange:i=>{f(i.fileList),i.file.status==="done"?M.success(`${i.file.name} 上传成功`):i.file.status==="error"&&M.error(`${i.file.name} 上传失败`)},beforeUpload:()=>!1},_=i=>{Q.confirm({title:"删除文档",content:"确定要删除这个文档吗？删除后需要重新训练模型。",okText:"删除",okType:"danger",cancelText:"取消",onOk:()=>{M.success("文档已删除")}})},d=()=>e.jsxs("div",{className:c.overviewTab,children:[e.jsxs(Me,{gutter:[16,16],children:[e.jsx(B,{xs:24,sm:12,md:6,children:e.jsx(j,{className:c.statCard,children:e.jsx(P,{title:"知识文档",value:p.totalDocuments,prefix:e.jsx(O,{}),suffix:"份"})})}),e.jsx(B,{xs:24,sm:12,md:6,children:e.jsx(j,{className:c.statCard,children:e.jsx(P,{title:"训练Token",value:p.totalTokens,prefix:e.jsx(dt,{})})})}),e.jsx(B,{xs:24,sm:12,md:6,children:e.jsx(j,{className:c.statCard,children:e.jsx(P,{title:"模型准确率",value:p.accuracy,prefix:e.jsx(Oe,{}),suffix:"%",precision:1})})}),e.jsx(B,{xs:24,sm:12,md:6,children:e.jsx(j,{className:c.statCard,children:e.jsx(P,{title:"当前版本",value:p.modelVersion,prefix:e.jsx(A,{})})})})]}),e.jsx(j,{title:"模型状态",className:c.statusCard,children:o==="training"?e.jsxs("div",{className:c.trainingProgress,children:[e.jsxs("div",{className:c.progressHeader,children:[e.jsxs(w,{children:[e.jsx(He,{spin:!0,style:{color:"#1890ff"}}),e.jsx(T,{strong:!0,children:"正在训练中..."})]}),e.jsx(g,{size:"small",icon:e.jsx(Ae,{}),children:"暂停"})]}),e.jsx(qe,{percent:Math.round(n),status:"active",strokeColor:{from:"#108ee9",to:"#87d068"}}),e.jsxs(T,{type:"secondary",children:["预计剩余时间: 约 ",Math.round((100-n)/10)," 分钟"]})]}):o==="completed"?e.jsxs("div",{className:c.completedStatus,children:[e.jsx(De,{className:c.completedIcon}),e.jsxs("div",{children:[e.jsx(ee,{level:5,style:{margin:0},children:"模型已就绪"}),e.jsxs(T,{type:"secondary",children:["上次训练: ",p.lastTraining]})]}),e.jsx(g,{type:"primary",icon:e.jsx(q,{}),onClick:h,children:"重新训练"})]}):e.jsxs("div",{className:c.idleStatus,children:[e.jsx(oe,{message:"模型未训练",description:"请上传知识文档并开始训练，让AI学习您的业务知识。",type:"info",showIcon:!0}),e.jsx(g,{type:"primary",icon:e.jsx(q,{}),onClick:h,style:{marginTop:16},children:"开始训练"})]})}),e.jsx(j,{title:"训练历史",className:c.historyCard,children:e.jsx(z,{dataSource:x,renderItem:i=>e.jsx(z.Item,{actions:[e.jsx(g,{type:"link",size:"small",children:"查看详情"}),e.jsx(g,{type:"link",size:"small",children:"回滚"})],children:e.jsx(z.Item.Meta,{avatar:e.jsx(J,{icon:e.jsx(A,{}),style:{background:i.status==="completed"?"#52c41a":"#1890ff"}}),title:e.jsxs(w,{children:[e.jsx(T,{strong:!0,children:i.version}),e.jsxs(Ue,{color:"green",children:["准确率 ",i.accuracy,"%"]})]}),description:e.jsxs(w,{children:[e.jsx(Ge,{})," ",i.date,e.jsx("span",{children:"|"}),e.jsx(O,{})," ",i.documents," 份文档"]})})})})})]}),$=()=>e.jsxs("div",{className:c.knowledgeTab,children:[e.jsxs(j,{title:"上传知识文档",className:c.uploadCard,children:[e.jsxs(zt,{...C,children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(Y,{style:{fontSize:48,color:"#1890ff"}})}),e.jsx("p",{className:"ant-upload-text",children:"点击或拖拽文件到此区域上传"}),e.jsx("p",{className:"ant-upload-hint",children:"支持 PDF、Word、TXT、Markdown 等格式，单个文件不超过 50MB"})]}),m.length>0&&e.jsx("div",{style:{marginTop:16},children:e.jsxs(g,{type:"primary",icon:e.jsx(Y,{}),children:["确认上传 (",m.length," 个文件)"]})})]}),e.jsx(j,{title:"知识库文档",className:c.documentsCard,extra:e.jsxs(T,{type:"secondary",children:["共 ",v.length," 份文档"]}),children:e.jsx(z,{dataSource:v,renderItem:i=>e.jsx(z.Item,{actions:[e.jsx(D,{title:"查看",children:e.jsx(g,{type:"text",size:"small",icon:e.jsx(O,{})})}),e.jsx(D,{title:"删除",children:e.jsx(g,{type:"text",size:"small",danger:!0,icon:e.jsx(Qe,{}),onClick:()=>_(i.id)})})],children:e.jsx(z.Item.Meta,{avatar:e.jsx(J,{icon:e.jsx(O,{}),style:{background:i.status==="indexed"?"#52c41a":"#faad14"}}),title:i.name,description:e.jsxs(w,{children:[e.jsx(T,{type:"secondary",children:i.size}),e.jsx("span",{children:"|"}),e.jsx(T,{type:"secondary",children:i.uploadTime}),e.jsx("span",{children:"|"}),e.jsx(Ke,{status:i.status==="indexed"?"success":"processing",text:i.status==="indexed"?"已索引":"待索引"})]})})})})})]}),I=()=>e.jsxs("div",{className:c.settingsTab,children:[e.jsx(j,{title:"训练参数设置",className:c.settingsCard,children:e.jsxs(y,{layout:"vertical",children:[e.jsx(y.Item,{label:e.jsxs(w,{children:[e.jsx("span",{children:"模型基座"}),e.jsx(D,{title:"选择用于微调的基础模型",children:e.jsx(Je,{})})]}),children:e.jsx(R,{value:"GPT-4 Turbo",disabled:!0})}),e.jsx(y.Item,{label:"训练轮次 (Epochs)",extra:"更多轮次可能提高准确率，但也可能导致过拟合",children:e.jsx(R,{type:"number",defaultValue:3})}),e.jsx(y.Item,{label:"学习率 (Learning Rate)",extra:"较小的学习率训练更稳定，但速度较慢",children:e.jsx(R,{defaultValue:"0.0001"})}),e.jsx(y.Item,{label:"批次大小 (Batch Size)",children:e.jsx(R,{type:"number",defaultValue:32})}),e.jsx(y.Item,{children:e.jsx(g,{type:"primary",children:"保存设置"})})]})}),e.jsx(j,{title:"业务配置",className:c.businessCard,children:e.jsxs(y,{layout:"vertical",children:[e.jsx(y.Item,{label:"公司名称",rules:[{required:!0}],children:e.jsx(R,{placeholder:"请输入公司名称",defaultValue:"摩塔科技"})}),e.jsx(y.Item,{label:"行业领域",children:e.jsx(R,{placeholder:"请输入行业领域",defaultValue:"企业服务/SaaS"})}),e.jsx(y.Item,{label:"业务描述",extra:"详细的业务描述有助于AI更好地理解您的业务",children:e.jsx(wt,{rows:4,placeholder:"请描述您的核心业务...",defaultValue:"摩塔科技是一家专注于AI驱动的智能商业平台提供商，为企业提供一站式AI解决方案生成服务。"})}),e.jsx(y.Item,{children:e.jsx(g,{type:"primary",children:"保存配置"})})]})})]}),E=[{key:"overview",label:"概览",children:e.jsx(d,{})},{key:"knowledge",label:"知识库",children:e.jsx($,{})},{key:"settings",label:"设置",icon:e.jsx(ke,{}),children:e.jsx(I,{})}];return e.jsxs("div",{className:c.container,children:[e.jsxs("div",{className:c.header,children:[e.jsxs("div",{className:c.headerTitle,children:[e.jsx(A,{className:c.headerIcon}),e.jsxs("div",{children:[e.jsx(ee,{level:4,style:{margin:0},children:"AI模型训练"}),e.jsx(T,{type:"secondary",children:"训练专属于您企业的AI模型，让AI更懂您的业务"})]})]}),e.jsx(w,{children:e.jsx(g,{icon:e.jsx(q,{}),type:"primary",onClick:h,children:"开始训练"})})]}),e.jsx(j,{children:e.jsx(ze,{activeKey:t,onChange:s,items:E})})]})};export{Os as default};
