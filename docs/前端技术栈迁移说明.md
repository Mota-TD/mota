# å‰ç«¯æŠ€æœ¯æ ˆè¿ç§»è¯´æ˜

## ğŸ“‹ è¿ç§»æ¦‚è¿°

æœ¬æ–‡æ¡£è¯´æ˜äº† Mota é¡¹ç›®å‰ç«¯æŠ€æœ¯æ ˆä» Next.js 14 è¿ç§»åˆ° Vite + React çš„è¯¦ç»†ä¿¡æ¯ã€‚

## ğŸ¯ è¿ç§»åŸå› 

1. **æ›´å¿«çš„å¼€å‘ä½“éªŒ**ï¼šVite æä¾›æé€Ÿçš„å†·å¯åŠ¨å’Œçƒ­æ›´æ–°
2. **æ›´ç®€å•çš„æ¶æ„**ï¼šä¼ ç»Ÿ SPA æ¶æ„æ›´é€‚åˆå½“å‰é¡¹ç›®éœ€æ±‚
3. **æ›´å¥½çš„å¯ç»´æŠ¤æ€§**ï¼šæ¨¡å—åŒ–æ¶æ„æ›´æ¸…æ™°ï¼Œä»£ç ç»„ç»‡æ›´åˆç†
4. **æ›´çµæ´»çš„é…ç½®**ï¼šVite é…ç½®æ›´ç®€å•ç›´è§‚

## ğŸ“Š æŠ€æœ¯æ ˆå¯¹æ¯”

| ç‰¹æ€§ | Next.js 14 (æ—§) | Vite + React (æ–°) |
|------|----------------|-------------------|
| **æ„å»ºå·¥å…·** | Next.js (åŸºäº Webpack/Turbopack) | Vite 5 |
| **è·¯ç”±æ–¹æ¡ˆ** | App Router (æ–‡ä»¶ç³»ç»Ÿè·¯ç”±) | React Router 6 (é…ç½®å¼è·¯ç”±) |
| **çŠ¶æ€ç®¡ç†** | Zustand | Zustand |
| **UI æ¡†æ¶** | Ant Design 5 | Ant Design 5 |
| **æ•°æ®è·å–** | TanStack Query | Axios + è‡ªå®šä¹‰ hooks |
| **å¼€å‘æœåŠ¡å™¨å¯åŠ¨** | ~3-5ç§’ | <1ç§’ |
| **çƒ­æ›´æ–°é€Ÿåº¦** | è¾ƒæ…¢ | æå¿« |
| **æ„å»ºäº§ç‰©** | SSR/SSG | SPA |

## ğŸ—ï¸ æ–°æ¶æ„ç‰¹ç‚¹

### ç›®å½•ç»“æ„

```
mota-web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶ï¼ˆæŒ‰åŠŸèƒ½åˆ’åˆ†ï¼‰
â”‚   â”‚   â”œâ”€â”€ auth/           # è®¤è¯ç›¸å…³é¡µé¢
â”‚   â”‚   â”œâ”€â”€ ai/             # AI åŠŸèƒ½é¡µé¢
â”‚   â”‚   â”œâ”€â”€ dashboard/      # ä»ªè¡¨ç›˜
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ modules/            # ä¸šåŠ¡æ¨¡å—ï¼ˆå¯å¤ç”¨çš„ä¸šåŠ¡é€»è¾‘ï¼‰
â”‚   â”‚   â”œâ”€â”€ project/        # é¡¹ç›®æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ task/           # ä»»åŠ¡æ¨¡å—
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ components/         # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ layouts/            # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ services/           # API æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ api/            # API æ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ ai/             # AI æœåŠ¡
â”‚   â”‚   â””â”€â”€ request.ts      # è¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ store/              # å…¨å±€çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ styles/             # å…¨å±€æ ·å¼
â”œâ”€â”€ vite.config.ts          # Vite é…ç½®
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡
â””â”€â”€ package.json
```

### æ ¸å¿ƒç‰¹æ€§

1. **æ¨¡å—åŒ–æ¶æ„**
   - æŒ‰åŠŸèƒ½åˆ’åˆ†çš„ `modules/` ç›®å½•
   - æ¯ä¸ªæ¨¡å—åŒ…å«ç»„ä»¶ã€ç±»å‹ã€çŠ¶æ€ç®¡ç†ç­‰
   - é«˜å†…èšã€ä½è€¦åˆ

2. **æ™ºèƒ½ä»£ç†é…ç½®**
   - å¼€å‘ç¯å¢ƒè‡ªåŠ¨ä»£ç† API è¯·æ±‚
   - æ”¯æŒå¤šæœåŠ¡ä»£ç†ï¼ˆè®¤è¯æœåŠ¡ã€AI æœåŠ¡ã€é¡¹ç›®æœåŠ¡ç­‰ï¼‰
   - è¯¦ç»†çš„è¯·æ±‚æ—¥å¿—

3. **å®Œæ•´çš„ TypeScript æ”¯æŒ**
   - ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥
   - å®Œå–„çš„ç±»å‹å®šä¹‰
   - æ›´å¥½çš„å¼€å‘ä½“éªŒ

4. **ä¼˜åŒ–çš„æ„å»ºé…ç½®**
   - è·¯å¾„åˆ«å `@/` æŒ‡å‘ `src/`
   - Less é¢„å¤„ç†å™¨æ”¯æŒ
   - Ant Design ä¸»é¢˜å®šåˆ¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
cd mota-web
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

è®¿é—® http://localhost:3000

### ç”Ÿäº§æ„å»º

```bash
npm run build
npm run preview
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡ (.env)

```env
# API åŸºç¡€è·¯å¾„ï¼ˆç•™ç©ºï¼Œä½¿ç”¨ä»£ç†ï¼‰
VITE_API_BASE_URL=

# åº”ç”¨æ ‡é¢˜
VITE_APP_TITLE=æ‘©å¡” Mota

# AI é…ç½®
VITE_AI_PROVIDER=doubao
VITE_DOUBAO_API_KEY=your-api-key
VITE_DOUBAO_ENDPOINT_ID=your-endpoint-id
```

### Vite ä»£ç†é…ç½®

```typescript
// vite.config.ts
export default defineConfig({
  server: {
    proxy: {
      '/api/v1/auth': {
        target: 'http://127.0.0.1:8081',  // è®¤è¯æœåŠ¡
        changeOrigin: true,
      },
      '/api/v1/ai': {
        target: 'http://127.0.0.1:8083',  // AI æœåŠ¡
        changeOrigin: true,
      },
      '/api': {
        target: 'http://127.0.0.1:8084',  // é¡¹ç›®æœåŠ¡
        changeOrigin: true,
      },
    },
  },
})
```

## ğŸ“ è¿ç§»æ¸…å•

- [x] é¡¹ç›®åˆå§‹åŒ–å’ŒåŸºç¡€é…ç½®
- [x] è·¯ç”±ç³»ç»Ÿè¿ç§»ï¼ˆReact Router 6ï¼‰
- [x] é¡µé¢ç»„ä»¶è¿ç§»
- [x] ä¸šåŠ¡æ¨¡å—é‡æ„
- [x] API æœåŠ¡å±‚å®ç°
- [x] çŠ¶æ€ç®¡ç†é…ç½®
- [x] æ ·å¼ç³»ç»Ÿé…ç½®
- [x] å¼€å‘ä»£ç†é…ç½®
- [x] æ„å»ºä¼˜åŒ–
- [x] æ–‡æ¡£æ›´æ–°

## ğŸ¨ ä¸»è¦æ”¹è¿›

### 1. æ›´å¿«çš„å¼€å‘ä½“éªŒ

- **å†·å¯åŠ¨**ï¼šä» 3-5 ç§’é™è‡³ <1 ç§’
- **çƒ­æ›´æ–°**ï¼šå‡ ä¹å³æ—¶çš„æ¨¡å—æ›¿æ¢
- **æ„å»ºé€Ÿåº¦**ï¼šæ˜¾è‘—æå‡

### 2. æ›´æ¸…æ™°çš„ä»£ç ç»„ç»‡

- æ¨¡å—åŒ–çš„ä¸šåŠ¡é€»è¾‘
- ç»Ÿä¸€çš„ API æœåŠ¡å±‚
- æ¸…æ™°çš„è·¯ç”±é…ç½®

### 3. æ›´å¥½çš„å¼€å‘ä½“éªŒ

- å®Œæ•´çš„ TypeScript æ”¯æŒ
- è¯¦ç»†çš„ä»£ç†æ—¥å¿—
- çµæ´»çš„é…ç½®é€‰é¡¹

## ğŸ”„ ä» Next.js è¿ç§»æŒ‡å—

å¦‚æœä½ ä¹‹å‰ä½¿ç”¨ Next.js ç‰ˆæœ¬ï¼Œä»¥ä¸‹æ˜¯ä¸»è¦å·®å¼‚ï¼š

### è·¯ç”±

**Next.js (App Router):**
```typescript
// app/(console)/dashboard/page.tsx
export default function DashboardPage() {
  return <div>Dashboard</div>
}
```

**Vite + React Router:**
```typescript
// src/router/index.tsx
{
  path: '/dashboard',
  element: <ConsoleLayout />,
  children: [
    { index: true, element: <Dashboard /> }
  ]
}
```

### æ•°æ®è·å–

**Next.js:**
```typescript
// ä½¿ç”¨ TanStack Query
const { data } = useQuery({
  queryKey: ['projects'],
  queryFn: fetchProjects
})
```

**Vite:**
```typescript
// ä½¿ç”¨è‡ªå®šä¹‰ hooks
const { data, loading } = useProjects()
```

### ç¯å¢ƒå˜é‡

**Next.js:**
```env
NEXT_PUBLIC_API_URL=http://localhost:8080
```

**Vite:**
```env
VITE_API_BASE_URL=
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Vite å®˜æ–¹æ–‡æ¡£](https://vitejs.dev/)
- [React Router æ–‡æ¡£](https://reactrouter.com/)
- [Ant Design æ–‡æ¡£](https://ant.design/)
- [é¡¹ç›® README](../README.md)

## â“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆä¸ç»§ç»­ä½¿ç”¨ Next.jsï¼Ÿ

A: å½“å‰é¡¹ç›®ä¸éœ€è¦ SSR/SSG ç‰¹æ€§ï¼Œä¼ ç»Ÿ SPA æ¶æ„æ›´ç®€å•é«˜æ•ˆã€‚Vite æä¾›äº†æ›´å¿«çš„å¼€å‘ä½“éªŒå’Œæ›´çµæ´»çš„é…ç½®ã€‚

### Q: å¦‚ä½•è®¿é—®æ—§çš„ Next.js ä»£ç ï¼Ÿ

A: Next.js ä»£ç ä¿ç•™åœ¨ `mota-web-next/` ç›®å½•ä¸­ï¼Œä½†å·²æ ‡è®°ä¸ºåºŸå¼ƒã€‚å»ºè®®ä½¿ç”¨æ–°çš„ Vite ç‰ˆæœ¬ã€‚

### Q: è¿ç§»åæ€§èƒ½å¦‚ä½•ï¼Ÿ

A: å¼€å‘ä½“éªŒæ˜¾è‘—æå‡ï¼Œæ„å»ºé€Ÿåº¦æ›´å¿«ã€‚ç”Ÿäº§ç¯å¢ƒæ€§èƒ½ä¸ Next.js ç›¸å½“ã€‚

### Q: æ˜¯å¦æ”¯æŒ SSRï¼Ÿ

A: å½“å‰ç‰ˆæœ¬ä¸ºçº¯ SPAï¼Œä¸æ”¯æŒ SSRã€‚å¦‚æœæœªæ¥éœ€è¦ SEO ä¼˜åŒ–ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨é¢„æ¸²æŸ“æˆ–å…¶ä»–æ–¹æ¡ˆã€‚

## ğŸ¤ è´¡çŒ®

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ– Pull Requestã€‚

---

**æ›´æ–°æ—¶é—´**: 2026-01-20  
**ç»´æŠ¤è€…**: Mota Team