# AI智能 - 用户流程

## 1. AI方案生成流程

### 1.1 完整流程图

```mermaid
graph TB
    subgraph 准备阶段
        A[进入AI方案生成] --> B[选择方案类型]
        B --> C{首次使用?}
        C -->|是| D[填写业务介绍]
        C -->|否| E[使用已保存的业务介绍]
        D --> F[保存业务介绍]
        E --> F
        F --> G[描述方案需求]
    end

    subgraph 知识增强
        G --> H{使用知识库?}
        H -->|是| I[选择知识库]
        I --> J[配置检索参数]
        H -->|否| K[跳过知识增强]
        J --> L[准备完成]
        K --> L
    end

    subgraph 生成阶段
        L --> M[开始生成]
        M --> N[AI分析需求]
        N --> O[检索相关知识]
        O --> P[生成方案大纲]
        P --> Q[生成详细内容]
        Q --> R[方案生成完成]
    end

    subgraph 优化阶段
        R --> S[预览方案]
        S --> T{满意?}
        T -->|否| U[输入优化建议]
        U --> V[AI优化方案]
        V --> S
        T -->|是| W[编辑完善]
    end

    subgraph 输出阶段
        W --> X{导出格式}
        X -->|Word| Y1[导出Word]
        X -->|PDF| Y2[导出PDF]
        X -->|PPT| Y3[转换为PPT]
        Y1 & Y2 & Y3 --> Z[保存到历史]
        Z --> AA[完成]
    end
```

### 1.2 方案类型选择

```mermaid
graph LR
    A[方案类型] --> B[商务方案]
    A --> C[技术方案]
    A --> D[营销方案]
    A --> E[投标文档]
    A --> F[咨询报告]
    A --> G[培训方案]
    A --> H[项目计划]
    A --> I[合作提案]
    A --> J[产品介绍]
```

### 1.3 多轮对话优化流程

```mermaid
sequenceDiagram
    participant U as 用户
    participant AI as AI助手
    participant KB as 知识库
    participant LLM as 大语言模型

    U->>AI: 生成方案请求
    AI->>KB: 检索相关知识
    KB-->>AI: 返回知识片段
    AI->>LLM: 构建Prompt + 知识上下文
    LLM-->>AI: 生成方案初稿
    AI-->>U: 展示方案初稿
    
    loop 优化循环
        U->>AI: 提出修改建议
        AI->>LLM: 理解修改意图
        LLM-->>AI: 生成修改方案
        AI-->>U: 展示修改结果
    end
    
    U->>AI: 确认满意
    AI-->>U: 保存最终版本
```

## 2. AI知识库流程

### 2.1 知识库创建流程

```mermaid
graph TB
    A[创建知识库] --> B[填写基本信息]
    B --> C[设置知识库类型]
    C --> D{类型选择}
    D -->|产品知识| E1[产品知识库]
    D -->|方案案例| E2[方案案例库]
    D -->|行业资料| E3[行业资料库]
    D -->|通用知识| E4[通用知识库]
    E1 & E2 & E3 & E4 --> F[配置权限]
    F --> G[知识库创建完成]
    G --> H[开始上传文档]
```

### 2.2 文档上传与处理流程

```mermaid
graph TB
    subgraph 文档上传
        A[选择文档] --> B{文档格式}
        B -->|PDF| C1[PDF解析]
        B -->|Word| C2[Word解析]
        B -->|Excel| C3[Excel解析]
        B -->|PPT| C4[PPT解析]
        B -->|TXT/MD| C5[文本解析]
    end

    subgraph 文档处理
        C1 & C2 & C3 & C4 & C5 --> D[内容提取]
        D --> E[文本清洗]
        E --> F[智能分块]
        F --> G[向量嵌入]
        G --> H[存储索引]
    end

    subgraph 知识管理
        H --> I[自动分类]
        I --> J[生成标签]
        J --> K[建立关联]
        K --> L[文档就绪]
    end
```

### 2.3 模型训练流程

```mermaid
graph TB
    A[准备训练] --> B[选择知识库]
    B --> C[配置训练参数]
    C --> D{参数配置}
    D --> E[选择基础模型]
    D --> F[设置训练轮次]
    D --> G[配置学习率]
    E & F & G --> H[开始训练]
    
    H --> I[数据预处理]
    I --> J[模型微调]
    J --> K[训练监控]
    K --> L{训练完成?}
    L -->|否| M[继续训练]
    M --> K
    L -->|是| N[模型评估]
    
    N --> O{评估通过?}
    O -->|否| P[调整参数]
    P --> H
    O -->|是| Q[保存模型]
    Q --> R[部署模型]
    R --> S[模型上线]
```

### 2.4 知识检索流程

```mermaid
graph LR
    subgraph 查询处理
        A[用户查询] --> B[查询理解]
        B --> C[查询向量化]
    end

    subgraph 检索匹配
        C --> D[向量相似度检索]
        D --> E[关键词匹配]
        E --> F[混合排序]
    end

    subgraph 结果处理
        F --> G[结果过滤]
        G --> H[上下文扩展]
        H --> I[返回结果]
    end
```

## 3. 智能新闻流程

### 3.1 新闻订阅配置流程

```mermaid
graph TB
    A[配置新闻订阅] --> B[设置关键词]
    B --> C[选择行业领域]
    C --> D[添加竞品名单]
    D --> E[配置新闻源]
    E --> F[设置推送频率]
    F --> G{推送方式}
    G -->|实时推送| H1[开启实时通知]
    G -->|定时推送| H2[设置推送时间]
    G -->|手动查看| H3[关闭推送]
    H1 & H2 & H3 --> I[保存配置]
    I --> J[开始追踪]
```

### 3.2 新闻追踪与分析流程

```mermaid
graph TB
    subgraph 新闻采集
        A[新闻源监控] --> B[内容抓取]
        B --> C[去重过滤]
        C --> D[内容解析]
    end

    subgraph 智能分析
        D --> E[关键词匹配]
        E --> F[相关度计算]
        F --> G[情感分析]
        G --> H[热点识别]
        H --> I[趋势分析]
    end

    subgraph 结果处理
        I --> J[分类归档]
        J --> K[生成摘要]
        K --> L[推送通知]
        L --> M[用户查看]
    end
```

### 3.3 新闻应用流程

```mermaid
graph TB
    A[查看新闻] --> B{用户操作}
    
    B -->|收藏| C[加入收藏夹]
    C --> D[添加备注]
    
    B -->|分享| E[选择分享对象]
    E --> F[发送分享]
    
    B -->|引用| G[选择目标方案]
    G --> H[插入引用]
    H --> I[自动格式化]
    
    B -->|入库| J[选择知识库]
    J --> K[设置分类]
    K --> L[加入知识库]
    
    D & F & I & L --> M[操作完成]
```

## 4. AI助手流程

### 4.1 智能对话流程

```mermaid
sequenceDiagram
    participant U as 用户
    participant A as AI助手
    participant I as 意图识别
    participant K as 知识库
    participant L as LLM

    U->>A: 发送消息
    A->>I: 意图识别
    I-->>A: 返回意图类型
    
    alt 知识查询
        A->>K: 检索知识
        K-->>A: 返回知识
        A->>L: 生成回答
    else 任务执行
        A->>A: 执行任务
        A-->>U: 返回执行结果
    else 闲聊对话
        A->>L: 生成回复
    end
    
    L-->>A: 返回结果
    A-->>U: 展示回答
```

### 4.2 智能搜索流程

```mermaid
graph TB
    A[输入搜索词] --> B[查询理解]
    B --> C{搜索范围}
    
    C -->|项目| D1[搜索项目]
    C -->|文档| D2[搜索文档]
    C -->|知识| D3[搜索知识库]
    C -->|新闻| D4[搜索新闻]
    C -->|全局| D5[全局搜索]
    
    D1 & D2 & D3 & D4 & D5 --> E[结果聚合]
    E --> F[智能排序]
    F --> G[生成摘要]
    G --> H[展示结果]
    
    H --> I{用户操作}
    I -->|查看详情| J[跳转详情页]
    I -->|继续搜索| A
    I -->|AI总结| K[生成AI总结]
```

### 4.3 智能建议流程

```mermaid
graph TB
    A[用户行为分析] --> B[上下文理解]
    B --> C{建议类型}
    
    C -->|任务建议| D1[分析当前任务]
    D1 --> E1[推荐下一步]
    
    C -->|内容建议| D2[分析浏览历史]
    D2 --> E2[推荐相关内容]
    
    C -->|优化建议| D3[分析工作模式]
    D3 --> E3[提供优化建议]
    
    C -->|风险提示| D4[分析潜在风险]
    D4 --> E4[发出风险提示]
    
    E1 & E2 & E3 & E4 --> F[展示建议]
    F --> G{用户反馈}
    G -->|采纳| H[执行建议]
    G -->|忽略| I[记录反馈]
    G -->|反馈| J[优化模型]
```

## 5. 历史记录管理流程

### 5.1 方案历史管理

```mermaid
graph TB
    A[查看历史记录] --> B[筛选条件]
    B --> C{筛选方式}
    
    C -->|按时间| D1[时间范围筛选]
    C -->|按类型| D2[方案类型筛选]
    C -->|按标签| D3[标签筛选]
    C -->|按创建人| D4[创建人筛选]
    
    D1 & D2 & D3 & D4 --> E[展示结果列表]
    
    E --> F{用户操作}
    F -->|查看| G[查看方案详情]
    F -->|复用| H[基于此方案创建新方案]
    F -->|编辑| I[编辑方案]
    F -->|导出| J[导出方案]
    F -->|删除| K[删除方案]
    F -->|分享| L[分享方案]
```

### 5.2 版本管理流程

```mermaid
graph TB
    A[查看方案] --> B[版本历史]
    B --> C[版本列表]
    C --> D{用户操作}
    
    D -->|查看版本| E[查看历史版本内容]
    D -->|对比版本| F[选择对比版本]
    F --> G[差异对比展示]
    D -->|回滚版本| H[确认回滚]
    H --> I[恢复到历史版本]
    D -->|下载版本| J[下载历史版本]
```

## 6. 协作流程

### 6.1 方案协作流程

```mermaid
graph TB
    A[创建方案] --> B[邀请协作者]
    B --> C[设置权限]
    C --> D{权限类型}
    
    D -->|查看| E1[只读权限]
    D -->|编辑| E2[编辑权限]
    D -->|管理| E3[管理权限]
    
    E1 & E2 & E3 --> F[发送邀请]
    F --> G[协作者加入]
    G --> H[协同编辑]
    
    H --> I[实时同步]
    I --> J[版本记录]
    J --> K[评论讨论]
    K --> L[完成协作]
```

### 6.2 知识共享流程

```mermaid
graph TB
    A[知识库管理] --> B{共享设置}
    
    B -->|团队共享| C1[设置团队权限]
    B -->|项目共享| C2[关联项目]
    B -->|公开共享| C3[设置公开范围]
    
    C1 --> D[团队成员可访问]
    C2 --> E[项目成员可访问]
    C3 --> F[指定人员可访问]
    
    D & E & F --> G[知识共享生效]
    G --> H[使用统计]
    H --> I[优化推荐]
```

## 7. 典型使用场景

### 7.1 场景一：快速生成商务方案

```mermaid
graph LR
    A[接到客户需求] --> B[进入AI方案生成]
    B --> C[选择商务方案类型]
    C --> D[输入客户背景和需求]
    D --> E[选择产品知识库]
    E --> F[AI生成方案]
    F --> G[对话优化细节]
    G --> H[导出Word/PDF]
    H --> I[发送给客户]
```

### 7.2 场景二：基于新闻生成营销内容

```mermaid
graph LR
    A[查看行业新闻] --> B[发现热点话题]
    B --> C[引用到方案]
    C --> D[选择营销方案类型]
    D --> E[AI生成营销内容]
    E --> F[优化文案]
    F --> G[导出发布]
```

### 7.3 场景三：构建企业知识库

```mermaid
graph LR
    A[收集企业资料] --> B[创建知识库]
    B --> C[批量上传文档]
    C --> D[AI自动处理]
    D --> E[知识分类标签]
    E --> F[训练专属模型]
    F --> G[知识库就绪]
    G --> H[用于方案生成]
```

---

*摩塔 Mota - 让每家企业都拥有懂自己业务的AI助手*