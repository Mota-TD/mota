# HBuilderX 启动 Android 项目指南

## 前置准备

✅ 已下载 HBuilderX
✅ mota-app 项目已就绪
✅ 所有依赖已安装（npm install）

## 方法一：使用 HBuilderX 运行（推荐）⭐

### 步骤1：导入项目

1. 打开 HBuilderX
2. 点击菜单：**文件** → **导入** → **从本地目录导入**
3. 选择项目目录：`C:\Users\T\Desktop\mota\mota-app`
4. 点击"选择文件夹"

### 步骤2：运行到Android模拟器

1. 在项目管理器中右键点击 `mota-app` 项目
2. 选择：**运行** → **运行到手机或模拟器** → **运行到Android App基座**
3. 首次运行会提示下载：
   - Android调试基座（约100MB）
   - 点击"下载"并等待完成

### 步骤3：启动模拟器

**选项A：使用HBuilderX内置模拟器**
1. 菜单：**运行** → **运行到手机或模拟器** → **运行到Android App基座** → **内置模拟器**
2. 首次会自动下载安装模拟器

**选项B：使用真机调试**
1. 手机开启开发者模式和USB调试
2. USB连接手机到电脑
3. 选择：**运行到Android App基座** → **选择你的手机**

### 步骤4：查看效果

- 模拟器或真机会自动安装并启动应用
- 代码修改后会热重载
- 可以在HBuilderX控制台查看日志

## 方法二：云打包（生产版本）

### 适用场景
- 需要生成正式APK安装包
- 需要上架应用商店
- 需要自定义图标和启动页

### 步骤

1. 右键项目 → **发行** → **原生App-云打包**
2. 选择Android平台
3. 配置应用信息：
   - 应用名称：摩塔 Mota
   - 应用图标：上传图标（建议1024x1024）
   - 包名：com.mota.app
4. 选择证书（首次可使用公共测试证书）
5. 点击"打包"
6. 等待打包完成（约5-10分钟）
7. 下载APK安装包

## 方法三：命令行运行（高级）

### 前提
- 已安装Android SDK
- 已配置ANDROID_HOME环境变量
- 已启动Android模拟器或连接真机

### 命令

```bash
cd mota-app
npm run dev:app-android
```

### 注意
- 这只生成中间文件，不会自动打包
- 需要手动使用HBuilderX或Android Studio打包

## 常见问题

### Q1: 提示"未安装Android调试基座"
**解决**：首次运行时点击下载，等待下载完成

### Q2: 模拟器启动失败
**解决**：
- 检查电脑是否开启虚拟化（BIOS设置）
- 尝试使用真机调试
- 重启HBuilderX

### Q3: 真机无法识别
**解决**：
- 确认手机已开启USB调试
- 安装手机驱动程序
- 更换USB数据线/端口

### Q4: 应用闪退
**解决**：
- 查看HBuilderX控制台错误日志
- 检查manifest.json配置
- 清除应用数据重新安装

## 调试技巧

### 1. 查看日志
- HBuilderX控制台会显示console.log输出
- 使用Chrome DevTools远程调试

### 2. 热重载
- 保存文件后应用自动刷新
- 无需重新打包

### 3. 真机调试
- 性能更接近实际使用
- 可以测试相机、GPS等硬件功能

## 项目配置文件

### manifest.json
已配置Android相关信息：
- 应用名称：摩塔
- 包名：__UNI__MOTA
- 最低SDK版本：21（Android 5.0）
- 目标SDK版本：33（Android 13）
- 权限：相机、存储、网络等

### pages.json
已配置15个页面和TabBar导航

## 推荐工作流程

1. **开发阶段**：使用 `npm run dev:h5` 在浏览器快速开发
2. **测试阶段**：使用HBuilderX运行到模拟器/真机测试
3. **发布阶段**：使用云打包生成正式APK

## 下一步

现在您可以：
1. 打开HBuilderX
2. 导入mota-app项目
3. 点击运行到Android模拟器
4. 开始开发和测试！

**提示**：首次运行需要下载调试基座和模拟器，请耐心等待！